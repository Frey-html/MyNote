### 浙江大学实验报告
---
课程名称：操作系统
实验项目名称： RV64 缺页异常处理与 fork 机制
学生姓名：展翼飞  学号：3190102196
电子邮件地址：1007921963@qq.com
实验日期： 2024年 12 月  20 日

### 一、实验内容
#### 1. 准备工程



#### 2.缺页异常处理




#### 3.实现 fork 系统调用




### 二、思考题
1. 呈现出你在 page fault 的时候拷贝 ELF 程序内容的逻辑。
2. 回答 [4.3.5](https://zju-sec.github.io/os24fall-stu/lab5/#_12) 中的问题：
    - 在 do_fork 中，父进程的内核栈和用户栈指针分别是什么？
    - 在 do_fork 中，子进程的内核栈和用户栈指针的值应该是什么？
    - 在 do_fork 中，子进程的内核栈和用户栈指针分别应该赋值给谁？
3. 为什么要为子进程 `pt_regs` 的 `sepc` 手动加四？
4. 对于 `Fork main #2`（即 `FORK2`），在运行时，`ZJU OS Lab5` 位于内存的什么位置？是否在读取的时候产生了 page fault？请给出必要的截图以说明。
5. 画图分析 `make run TEST=FORK3` 的进程 fork 过程，并呈现出各个进程的 `global_variable` 应该从几开始输出，再与你的输出进行对比验证。


### 三、讨论心得