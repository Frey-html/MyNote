### 数据结构
#### 堆
##### Q1845 座位预定

```C#
class SeatManager {
public:
    // 用于存储可用座位号的最小堆
    vector<int> available;

    SeatManager(int n) {
        // 初始化时，将 1 到 n 的所有座位号加入到 available 中
        for (int i = 1; i <= n; ++i){
            available.push_back(i);
        }
        // 由于我们将要使用最小堆，C++ STL 提供的默认堆是最大堆。
        // 因此我们在堆操作时需要使用 greater<int>() 来实现最小堆。
        // 注意这里不需要主动调用 make_heap()，因为 push_heap 会自动维护堆。
    }
    
    // 预订座位，返回当前最小的可用座位号
    int reserve() {
        // 1. 使用 pop_heap() 将堆顶元素即最小的座位号放到 available 的末尾
        // `greater<int>()` 是一个比较函数对象，用于让标准的最大堆变为最小堆。
        pop_heap(available.begin(), available.end(), greater<int>());

        // 2. 将位于末尾的最小座位号取出，并将其从 `available` 中移除
        int tmp = available.back();  // 获取当前最小的座位号
        available.pop_back();  // 移除该座位号，因为已被预订
        
        return tmp;  // 返回被预订的座位号
    }
    
    // 取消预订某个座位
    void unreserve(int seatNumber) {
        // 1. 将被取消预订的座位号添加回 `available`
        available.push_back(seatNumber);  // 添加该座位号
        // 2. 使用 push_heap() 来重新维护最小堆
        // 由于 `available` 新增了元素，必须调用 `push_heap()` 来保持堆的性质
        // `greater<int>()` 继续维持最小堆性质
        push_heap(available.begin(), available.end(), greater<int>());
    }
};

```